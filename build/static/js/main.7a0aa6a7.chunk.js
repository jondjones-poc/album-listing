(this.webpackJsonpreacttest=this.webpackJsonpreacttest||[]).push([[0],{420:function(n,t,e){"use strict";e.r(t);e(198),e(208);var r=e(1),c=e(86),s=e.n(c),o=e(54),a=e(89),i=e(87),u=e(33),l=e(119),b=e.n(l),j=e(192),d=e(193),h=e.n(d),f="FETCH_SONGS_REQUEST",p="FETCH_SONGS_SUCCESS",O="FETCH_SONGS_ERROR",g=function(n){return{type:p,response:n}},m=function(n){return{type:O,error:n}},v=function(){return function(){var n=Object(j.a)(b.a.mark((function n(t){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:f}),"https://album-display-poc.netlify.app/.netlify/functions/albums",console.log(),h.a.get("https://album-display-poc.netlify.app/.netlify/functions/albums").then((function(n){t(g(n))})).catch((function(n){throw t(m(n.message)),n}));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},w=e(10);var x,S=function(n){var t=n.songs;return Object(w.jsx)("ul",{children:t&&t.map((function(n,t){return Object(w.jsx)("li",{children:n},t)}))})},y=e(88),k=y.a.div(x||(x=Object(i.a)(["\n    display: block;\n    font-weight: bold;\n"])));function C(n){return Object(w.jsx)("span",{onClick:function(){return n.setShowHide(!1)},"aria-label":"Hide Button",role:"img",children:"\u2b06\ufe0f"})}function E(n){return Object(w.jsx)("span",{onClick:function(){return n.setShowHide(!0)},"aria-label":"Hide Button",role:"img",children:"\u2b07\ufe0f"})}var H=function(n,t,e){return function(c){var s=Object(r.useState)(e),o=Object(a.a)(s,2),i=o[0],l=o[1],b=function(n){l(n)};return Object(w.jsxs)("div",{children:[Object(w.jsxs)(k,{children:[n," ",i?Object(w.jsx)(C,{setShowHide:b}):Object(w.jsx)(E,{setShowHide:b})]}),i&&Object(w.jsx)(t,Object(u.a)({},c))]})}};var F,_=function(n){var t=n.hasAlbums,e=n.albums,c=n.showAll,s=Object(o.c)();if(Object(r.useEffect)((function(){s(v())}),[s]),!t)return Object(w.jsx)("div",{children:"Loading"});var a=e.map((function(n,t){var e="".concat(n.band,",  ").concat(n.album),r=H(e,S,c);return Object(w.jsx)(r,Object(u.a)({},n),t)}));return Object(w.jsx)("div",{children:a})},A=function(n,t){var e=n.band.toUpperCase(),r=t.band.toUpperCase(),c=0;return e>r?c=1:e<r&&(c=-1),c},B=function(n){var t={};return n.reduce((function(n,e){var r="".concat(e.band," - ").concat(e.album);return t[r]?t[r].songs.push(e.song):(t[r]=Object.assign({},e),(t[r].songs=[]).push(e.song),delete t[r].song,n.push(t[r])),n}),[])},R=function(n){var t=n&&n.songs&&n.songs.items?n.songs.items:[],e=B(t).sort(A);return{albums:e||[],hasAlbums:e&&e.length>0}},T=y.a.div(F||(F=Object(i.a)(["\n    display: block;\n    font-weight: bold;\n    font-size: 1.5rem;\n    padding-bottom: 1rem;\n\n    span {\n      padding-left: 1rem;\n    }\n"]))),U=Object(o.b)(R)(_);var G=function(){var n=Object(r.useState)(!0),t=Object(a.a)(n,2),e=t[0],c=t[1];return Object(w.jsxs)(r.Fragment,{children:[Object(w.jsxs)(T,{children:["Albums  ",Object(w.jsxs)("span",{onClick:function(){return c(!e)},children:[" ",e?"\u2b06\ufe0f":"\u2b07\ufe0f"]})]}),Object(w.jsx)(U,{showAll:e})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=e(56),J=e(197),W={isFetching:!1,response:{},error:null},z=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,e=t.type,r=t.error,c=t.response;switch(e){case f:return Object(u.a)(Object(u.a)({},n),{},{isFetching:!0});case p:return{isFetching:!1,items:c.data,error:null};case O:return Object(u.a)(Object(u.a)({},n),{},{isFetching:!1,error:r});default:return n}},I=function(){return Object(N.d)(Object(N.c)({songs:z}),Object(N.a)(J.a))}();s.a.render(Object(w.jsx)(o.a,{store:I,children:Object(w.jsx)(G,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[420,1,2]]]);
//# sourceMappingURL=main.7a0aa6a7.chunk.js.map